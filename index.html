document.getElementById("parcelForm").addEventListener("submit", async function(e){
  e.preventDefault();

  const courier = document.getElementById("courier").value;
  const count = document.getElementById("count").value;

  if(!courier || !count){
    alert("Please select courier and count");
    return;
  }

  // Send data to Apps Script
  const WEB_APP_URL = "https://script.google.com/macros/s/AKfycbxy0rhoNDPdRWvZSkRPsZHGy-TLpuVMiqsyFKuKPBpMEc-fx4ZgBLA4JPc0_l-F358azw/exec";

  await fetch(WEB_APP_URL, {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ page:"page1", courier, count }),
    mode: "no-cors"
  });

  // Redirect to scanner page
  window.location.href = `scanner_camera.html?courier=${encodeURIComponent(courier)}&count=${count}`;
});
